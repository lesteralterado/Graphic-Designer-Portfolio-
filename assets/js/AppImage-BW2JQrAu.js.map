{"version":3,"file":"AppImage-BW2JQrAu.js","sources":["../../../src/components/AppImage.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\nfunction Image({\n  src,\n  alt = \"Image\",\n  className = \"\",\n  placeholder,\n  onLoad,\n  onError,\n  ...props\n}) {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const [isInView, setIsInView] = useState(false);\n  const imgRef = useRef(null);\n\n  // Intersection Observer for lazy loading\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsInView(true);\n          observer.disconnect();\n        }\n      },\n      {\n        threshold: 0.1,\n        rootMargin: '50px',\n      }\n    );\n\n    if (imgRef.current) {\n      observer.observe(imgRef.current);\n    }\n\n    return () => observer.disconnect();\n  }, []);\n\n  const handleLoad = () => {\n    setIsLoaded(true);\n    onLoad?.();\n  };\n\n  const handleError = (e) => {\n    setHasError(true);\n    // Fallback to no_image.png\n    e.target.src = \"/assets/images/no_image.png\";\n    onError?.();\n  };\n\n  return (\n    <div ref={imgRef} className={`relative overflow-hidden ${className}`}>\n      {/* Placeholder/Skeleton */}\n      {!isLoaded && !hasError && (\n        <div className=\"absolute inset-0 bg-muted animate-pulse flex items-center justify-center\">\n          {placeholder || (\n            <div className=\"w-8 h-8 border-2 border-accent border-t-transparent rounded-full animate-spin\"></div>\n          )}\n        </div>\n      )}\n\n      {/* Error State */}\n      {hasError && (\n        <div className=\"absolute inset-0 bg-muted flex items-center justify-center\">\n          <div className=\"text-center text-muted-foreground\">\n            <svg className=\"w-8 h-8 mx-auto mb-2 opacity-50\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n            <p className=\"text-sm\">Failed to load image</p>\n          </div>\n        </div>\n      )}\n\n      {/* Actual Image */}\n      {isInView && (\n        <img\n          src={src}\n          alt={alt}\n          className={`w-full h-full object-cover transition-opacity duration-300 ${\n            isLoaded ? 'opacity-100' : 'opacity-0'\n          }`}\n          loading=\"lazy\"\n          onLoad={handleLoad}\n          onError={handleError}\n          {...props}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Image;\n"],"names":["Image","src","alt","className","placeholder","onLoad","onError","props","isLoaded","setIsLoaded","useState","hasError","setHasError","isInView","setIsInView","imgRef","useRef","useEffect","observer","IntersectionObserver","entry","isIntersecting","disconnect","threshold","rootMargin","current","observe","ref","children","jsx","jsxs","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","loading","e","target"],"mappings":"iFAEA,SAASA,GAAMC,IACbA,EAAAC,IACAA,EAAM,QAAAC,UACNA,EAAY,GAAAC,YACZA,EAAAC,OACAA,EAAAC,QACAA,KACGC,IAEH,MAAOC,EAAUC,GAAeC,EAAAA,UAAS,IAClCC,EAAUC,GAAeF,EAAAA,UAAS,IAClCG,EAAUC,GAAeJ,EAAAA,UAAS,GACnCK,EAASC,EAAAA,OAAO,MAGtBC,EAAAA,UAAU,KACR,MAAMC,EAAW,IAAIC,qBACnB,EAAEC,MACIA,EAAMC,iBACRP,GAAY,GACZI,EAASI,eAGb,CACEC,UAAW,GACXC,WAAY,SAQhB,OAJIT,EAAOU,SACTP,EAASQ,QAAQX,EAAOU,SAGnB,IAAMP,EAASI,cACrB,IAcH,cACG,MAAA,CAAE,oBAAA,mCAAA,sBAAA,8BAAA,sBAAA,KAAA,sBAAA,eAAA,sBAAA,MAAA,yBAAA,sCAAEK,IAAKZ,EAAQZ,UAAW,4BAA4BA,IAEtDyB,SAAA,EAACpB,IAAaG,KACbkB,IAAC,MAAA,sXAAI1B,UAAU,2EACZyB,SAAAxB,SACE,MAAA,CAAE,oBAAA,oCAAA,sBAAA,8BAAA,sBAAA,KAAA,sBAAA,eAAA,sBAAA,MAAA,yBAAA,0JAAED,UAAU,oFAMpBQ,GACCkB,EAAAA,IAAC,MAAA,sWAAI1B,UAAU,6DACbyB,SAAAE,EAAAA,KAAC,MAAA,CAAE,oBAAA,oCAAA,sBAAA,8BAAA,sBAAA,KAAA,sBAAA,eAAA,sBAAA,MAAA,yBAAA,oGAAE3B,UAAU,oCACbyB,SAAA,CAAAC,EAAAA,IAAC,OAAE,oBAAA,oCAAA,sBAAA,8BAAA,sBAAA,KAAA,sBAAA,eAAA,sBAAA,MAAA,yBAAA,wGAAE1B,UAAU,kCAAkC4B,KAAK,OAAOC,OAAO,eAAeC,QAAQ,YACzFL,eAAC,OAAA,CAAG,oBAAA,oCAAA,sBAAA,8BAAA,sBAAA,KAAA,sBAAA,eAAA,sBAAA,OAAA,yBAAA,uCAAEM,cAAc,QAAQC,eAAe,QAAQC,YAAa,EAAGC,EAAE,sJAEtE,IAAA,CAAA,oBAAA,oCAAA,sBAAA,8BAAA,sBAAA,KAAA,sBAAA,eAAA,sBAAA,IAAA,yBAAA,6HAAElC,UAAU,UAAUyB,SAAA,8BAM5Bf,GACCgB,EAAAA,IAAC,MAAA,CAAE,oBAAA,mCAAA,sBAAA,8BAAA,sBAAA,KAAA,sBAAA,eAAA,sBAAA,MAAA,yBAAA,gJACD5B,MACAC,MACAC,UAAW,+DACTK,EAAW,cAAgB,aAE7B8B,QAAQ,OACRjC,OA5CW,KACjBI,GAAY,GACZ,MAAAJ,GAAAA,KA2CMC,QAxCaiC,IACnB3B,GAAY,GAEZ2B,EAAEC,OAAOvC,IAAM,8BACf,MAAAK,GAAAA,QAqCUC,MAKd"}